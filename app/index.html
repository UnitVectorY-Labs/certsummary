<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>certsummary</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Decode PEM SSL/TLS certificates instantly and securely in your browser">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrsasign/11.1.0/jsrsasign-all-min.js" integrity="sha512-Eu9j+HZBor7muHf6IDWoWZ8FKVr6nKe9eIIVR28NEte4Y4GiYRlke26XGdR/re81XE/FfLoLYYVkvNk5GY9RvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="./script.js"></script>
</head>
<body>

  <header class="app-header">
    <div class="page-container">
      <div class="header-row">
        <div>
          <h1 class="brand-title">üîê certsummary</h1>
          <p class="brand-subtitle">Decode PEM SSL/TLS certificates instantly and securely in your browser.</p>
        </div>
      </div>
    </div>
  </header>

  <main class="main-shell page-container">
    <div class="layout-grid">
      <div class="panel">
        <h2 class="panel-title">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:inline-block;vertical-align:middle;margin-right:0.4rem;"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 15a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M13 17.5v4.5l2 -1.5l2 1.5v-4.5" /><path d="M10 19h-5a2 2 0 0 1 -2 -2v-10c0 -1.1 .9 -2 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -1 1.73" /><path d="M6 9l12 0" /><path d="M6 12l3 0" /><path d="M6 15l2 0" /></svg>Paste PEM Certificate
        </h2>
        <div class="cert-input-container">
          <textarea id="cert-input" placeholder="Paste your PEM certificate here:&#10;&#10;-----BEGIN CERTIFICATE-----&#10;...&#10;-----END CERTIFICATE-----"></textarea>
        </div>
        <div id="copy-link-container">
          <button id="copy-link-btn" type="button">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 15l6 -6" /><path d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464" /><path d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463" /></svg>
            Copy Link
          </button>
          <span id="copy-success" aria-live="polite">Link copied to clipboard!</span>
        </div>
      </div>
      <div class="panel-accent">
        <h3 class="info-title">How it works:</h3>
        <ul class="info-list">
          <li class="info-row">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3" /><path d="M11 11a1 1 0 1 0 2 0a1 1 0 0 0 -2 0" /><path d="M12 12l0 2.5" /></svg>
            <span><strong>Client-side only</strong> ‚Äî all decoding runs in your browser, nothing is sent to any server</span>
          </li>
          <li class="info-row">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 15a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M13 17.5v4.5l2 -1.5l2 1.5v-4.5" /><path d="M10 19h-5a2 2 0 0 1 -2 -2v-10c0 -1.1 .9 -2 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -1 1.73" /><path d="M6 9l12 0" /><path d="M6 12l3 0" /><path d="M6 15l2 0" /></svg>
            <span><strong>Full certificate decoded</strong> with subject, issuer, validity, fingerprints, and SANs</span>
          </li>
          <li class="info-row">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 15l6 -6" /><path d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464" /><path d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463" /></svg>
            <span><strong>Shareable links</strong> with certificates passed as URL fragments, never sent to the server</span>
          </li>
          <li class="info-row">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 12a9 9 0 1 0 -9 9" /><path d="M3.6 9h16.8" /><path d="M3.6 15h8.4" /><path d="M11.578 3a17 17 0 0 0 0 18" /><path d="M12.5 3c1.719 2.755 2.5 5.876 2.5 9" /><path d="M18 14v7m-3 -3l3 3l3 -3" /></svg>
            <span><strong>Cross-reference</strong> fingerprints with crt.sh for certificate transparency logs</span>
          </li>
        </ul>
      </div>
    </div>

    <div id="output">
      <div class="empty-card">
        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="currentColor"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11.998 2l.118 .007l.059 .008l.061 .013l.111 .034a.993 .993 0 0 1 .217 .112l.104 .082l.255 .218a11 11 0 0 0 7.189 2.537l.342 -.01a1 1 0 0 1 1.005 .717a13 13 0 0 1 -9.208 16.25a1 1 0 0 1 -.502 0a13 13 0 0 1 -9.209 -16.25a1 1 0 0 1 1.005 -.717a11 11 0 0 0 7.531 -2.527l.263 -.225l.096 -.075a.993 .993 0 0 1 .217 -.112l.112 -.034a.97 .97 0 0 1 .119 -.021l.115 -.007zm3.71 7.293a1 1 0 0 0 -1.415 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z" /></svg>
        <p>Paste a PEM certificate above to decode it</p>
      </div>
    </div>
  </main>

  <footer>
    <p>
      <a href="https://github.com/UnitVectorY-Labs">UnitVectorY Labs</a> |
      <a href="https://opensource.org/licenses/MIT">MIT License</a> |
      <a href="https://github.com/UnitVectorY-Labs/certsummary"><strong>certsummary</strong> on GitHub</a>
    </p>
  </footer>

  <script>
    // Load certificate from URL hash on page load
    window.addEventListener('load', function() {
      loadCertificateFromURL();
    });

    // Process certificate when text input changes
    document.getElementById('cert-input').addEventListener('input', function() {
      var certText = this.value.trim();
      if (certText && certText.indexOf('-----BEGIN CERTIFICATE-----') !== -1) {
        processCertificate(certText);
        showCopyLinkButton();
      } else {
        hideCopyLinkButton();
      }
    });

    // Copy link functionality
    document.getElementById('copy-link-btn').addEventListener('click', function() {
      copyShareableLink();
    });
  </script>
</body>
</html>